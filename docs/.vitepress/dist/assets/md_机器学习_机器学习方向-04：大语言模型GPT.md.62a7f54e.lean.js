import{_ as t,o as n,c as l,Q as a,k as s,a as e}from"./chunks/framework.ac9d47ba.js";const _=JSON.parse('{"title":"机器学习方向-04：大语言模型GPT","description":"","frontmatter":{},"headers":[],"relativePath":"md/机器学习/机器学习方向-04：大语言模型GPT.md","filePath":"md/机器学习/机器学习方向-04：大语言模型GPT.md"}'),r={name:"md/机器学习/机器学习方向-04：大语言模型GPT.md"},i=a("",32),m=s("ol",null,[s("li",null,[s("p",null,"请介绍 GPT 的模型结构")]),s("li",null,[s("p",null,"模型采用怎么样一种训练方式？这种方式有什么弊端？")]),s("li",null,[s("p",null,[e("GPT 训练的"),s("strong",null,"目标函数"),e("是什么？简述各计算项的内涵")])]),s("li",null,[s("p",null,"说明文章中 traversal-style approach 的内容")]),s("li",null,[s("p",null,[e("模型使用的"),s("strong",null,"激活函数"),e("是 "),s("strong",null,"GeLU"),e("，它是将假设服从正态分布 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"N"),s("mo",null,"("),s("mn",null,"0"),s("mo",{separator:"true"},","),s("mn",null,"1"),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"N(0,1)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"N"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathrm"},"0"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathrm"},"1"),s("span",{class:"mclose"},")")])])]),e(" 的输入 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"x")]),s("annotation",{encoding:"application/x-tex"},"x")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.43056em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit"},"x")])])]),e(" 乘上伯努利分布 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"P"),s("mo",null,"("),s("mi",null,"X"),s("mo",null,"≤"),s("mi",null,"x"),s("mo",null,")")]),s("annotation",{encoding:"application/x-tex"},"P(X\\le x)")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.75em"}}),s("span",{class:"strut bottom",style:{height:"1em","vertical-align":"-0.25em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"P"),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.07847em"}},"X"),s("span",{class:"mrel"},"≤"),s("span",{class:"mord mathit"},"x"),s("span",{class:"mclose"},")")])])]),e("，即")]),s("div",{align:"center"},[s("img",{src:"https://img1.imgtp.com/2024/09/11/yuYMJ6nK.png",style:{zoom:"80%"}})]),s("p",null,"函数图像为"),s("div",{align:"center"},[s("img",{src:"https://img1.imgtp.com/2024/09/10/5wAzR2K9.png",alt:"image-20240819222101040",style:{zoom:"50%"}})]),s("p",null,[e("它与普遍使用的 "),s("strong",null,"ReLU"),e(" 激活函数有什么共同点和优越点？")])])],-1),p=a("",12),o=s("ol",null,[s("li",null,[s("p",null,"每一个步骤的目的是什么？它们所使用的数据集应该是怎么样的（数据是什么？有无标注？）")]),s("li",null,[s("p",null,[e("Step2 所使用的"),s("strong",null,"奖励模型"),e("（"),s("strong",null,"reword model"),e("）的损失函数是 "),s("strong",null,"pairwise ranking loss"),e(" 的一种，设定为")]),s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"l"),s("mi",null,"o"),s("mi",null,"s"),s("msub",null,[s("mi",null,"s"),s("mrow",null,[s("mi",null,"R"),s("mi",null,"M")])]),s("mo",null,"="),s("mo",null,"−"),s("mfrac",null,[s("mrow",null,[s("mn",null,"1")]),s("mrow",null,[s("msubsup",null,[s("mi",null,"C"),s("mi",null,"K"),s("mn",null,"2")])])]),s("msub",null,[s("mi",null,"E"),s("mrow",null,[s("mo",null,"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"y"),s("mi",null,"w")]),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"y"),s("mi",null,"l")]),s("mo",null,")"),s("mo",null,"∼"),s("mi",null,"D")])]),s("mo",null,"["),s("mi",null,"log"),s("mo",null,"("),s("mi",null,"σ"),s("mo",null,"("),s("msub",null,[s("mi",null,"r"),s("mi",null,"θ")]),s("mo",null,"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"y"),s("mi",null,"m")]),s("mo",null,")"),s("mo",null,"−"),s("msub",null,[s("mi",null,"r"),s("mi",null,"θ")]),s("mo",null,"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"y"),s("mi",null,"l")]),s("mo",null,")"),s("mo",null,")"),s("mo",null,")"),s("mo",null,"]")]),s("annotation",{encoding:"application/x-tex"},"loss_{RM}=-\\frac{1}{C_K^2}E_{(x,y_w,y_l)\\sim D}[\\log(\\sigma(r_\\theta(x,y_m)-r_\\theta(x,y_l)))] ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"1.32144em"}}),s("span",{class:"strut bottom",style:{height:"2.3009709999999997em","vertical-align":"-0.9795309999999999em"}}),s("span",{class:"base displaystyle textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.01968em"}},"l"),s("span",{class:"mord mathit"},"o"),s("span",{class:"mord mathit"},"s"),s("span",{class:"mord"},[s("span",{class:"mord mathit"},"s"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"0em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mord mathit",style:{"margin-right":"0.10903em"}},"M")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mrel"},"="),s("span",{class:"mord"},"−"),s("span",{class:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{class:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist"},[s("span",{style:{top:"0.6859999999999999em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle cramped"},[s("span",{class:"mord textstyle cramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"vlist"},[s("span",{style:{top:"0.29353099999999993em","margin-left":"-0.07153em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"K")])]),s("span",{style:{top:"-0.34480000000000005em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathrm"},"2")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),s("span",{style:{top:"-0.22999999999999998em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{style:{top:"-0.677em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord mathrm"},"1")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"E"),s("span",{class:"vlist"},[s("span",{style:{top:"0.18019999999999992em","margin-right":"0.05em","margin-left":"-0.05764em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.07142857142857144em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02691em"}},"w")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15122857142857138em","margin-right":"0.07142857142857144em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.01968em"}},"l")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mclose"},")"),s("span",{class:"mrel"},"∼"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"D")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"["),s("span",{class:"mop"},[e("lo"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"σ"),s("span",{class:"mopen"},"("),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"θ")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit"},"m")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mclose"},")"),s("span",{class:"mbin"},"−"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"θ")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.01968em"}},"l")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mclose"},")"),s("span",{class:"mclose"},")"),s("span",{class:"mclose"},")"),s("span",{class:"mclose"},"]")])])])])]),s("p",null,[e("其中 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msubsup",null,[s("mi",null,"C"),s("mi",null,"K"),s("mn",null,"2")])]),s("annotation",{encoding:"application/x-tex"},"C_K^2")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.8141079999999999em"}}),s("span",{class:"strut bottom",style:{height:"1.089439em","vertical-align":"-0.275331em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"C"),s("span",{class:"vlist"},[s("span",{style:{top:"0.275331em","margin-left":"-0.07153em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.07153em"}},"K")])]),s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord mathrm"},"2")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" 表示从 InstructGPT 产生的 K 个输出中按照它们的重要排序先后选出两个输出 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"y"),s("mi",null,"w")]),s("mo",{separator:"true"},","),s("msub",null,[s("mi",null,"y"),s("mi",null,"l")])]),s("annotation",{encoding:"application/x-tex"},"y_w,y_l")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02691em"}},"w")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mpunct"},","),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.03588em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.01968em"}},"l")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" ，"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"r"),s("mi",null,"θ")])]),s("annotation",{encoding:"application/x-tex"},"r_\\theta")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.58056em","vertical-align":"-0.15em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"θ")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" 表示奖励分数")]),s("p",null,"2a. 请问该损失函数的含义是什么？"),s("p",null,[e("2b. K 的取值大小对模型训练的帮助有何关联？（提示：RM 模型的计算开销主要在 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"r"),s("mi",null,"θ")])]),s("annotation",{encoding:"application/x-tex"},"r_\\theta")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.58056em","vertical-align":"-0.15em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"θ")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" 上）")]),s("p",null,"2c. K 为什么还能帮助模型缓解过拟合？")]),s("li",null,[s("p",null,[e("Step3 基于 "),s("strong",null,"PPO 算法"),e(" 来优化模型，其优化目标为")]),s("p",null,[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msub",null,[s("mi",null,"max"),s("mrow",null,[s("mi",null,"ϕ")])]),s("msub",null,[s("mi",null,"E"),s("mrow",null,[s("mo",null,"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",null,")"),s("mo",null,"∼"),s("msub",null,[s("mi",null,"D"),s("mrow",null,[s("msubsup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"ϕ")]),s("mrow",null,[s("mi",null,"R"),s("mi",null,"L")])])])])])]),s("mo",null,"["),s("msub",null,[s("mi",null,"r"),s("mi",null,"θ")]),s("mo",null,"("),s("mi",null,"x"),s("mo",{separator:"true"},","),s("mi",null,"y"),s("mo",null,")"),s("mo",null,"−"),s("mi",null,"β"),s("mi",null,"log"),s("mo",null,"("),s("mfrac",null,[s("mrow",null,[s("msubsup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"ϕ")]),s("mrow",null,[s("mi",null,"R"),s("mi",null,"L")])]),s("mo",null,"("),s("mi",null,"y"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"x"),s("mo",null,")")]),s("mrow",null,[s("msup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"S"),s("mi",null,"F"),s("mi",null,"T")])]),s("mo",null,"("),s("mi",null,"y"),s("mi",{mathvariant:"normal"},"∣"),s("mi",null,"x"),s("mo",null,")")])]),s("mo",null,")"),s("mo",null,"]"),s("mo",null,"+"),s("mi",null,"γ"),s("msub",null,[s("mi",null,"E"),s("mrow",null,[s("mi",null,"x"),s("mo",null,"∼"),s("msub",null,[s("mi",null,"D"),s("mrow",null,[s("mi",null,"p"),s("mi",null,"r"),s("mi",null,"e"),s("mi",null,"t"),s("mi",null,"r"),s("mi",null,"a"),s("mi",null,"i"),s("mi",null,"n")])])])]),s("mo",null,"["),s("mi",null,"log"),s("msubsup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"ϕ")]),s("mrow",null,[s("mi",null,"R"),s("mi",null,"L")])]),s("mo",null,"("),s("mi",null,"x"),s("mo",null,")"),s("mo",null,"]")]),s("annotation",{encoding:"application/x-tex"},"\\max_{\\phi}E_{(x,y)\\sim D_{\\pi^{RL}_{\\phi}}}[r_\\theta(x,y)-\\beta\\log(\\frac{\\pi^{RL}_{\\phi}(y|x)}{\\pi^{SFT}(y|x)})]+\\gamma E_{x\\sim D_{pretrain}}[\\log\\pi^{RL}_{\\phi}(x)] ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"1.650547em"}}),s("span",{class:"strut bottom",style:{height:"2.586547em","vertical-align":"-0.936em"}}),s("span",{class:"base displaystyle textstyle uncramped"},[s("span",{class:"mop op-limits"},[s("span",{class:"vlist"},[s("span",{style:{top:"0.6521079999999999em","margin-left":"0em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit"},"ϕ")])])]),s("span",{style:{top:"2.7755575615628914e-17em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",null,[s("span",{class:"mop"},"max")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"E"),s("span",{class:"vlist"},[s("span",{style:{top:"0.18019999999999992em","margin-right":"0.05em","margin-left":"-0.05764em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},")"),s("span",{class:"mrel"},"∼"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"vlist"},[s("span",{style:{top:"0.38957857142857144em","margin-right":"0.07142857142857144em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord scriptscriptstyle cramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"0.5096399999999999em","margin-left":"-0.03588em","margin-right":"0.1em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptscriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord scriptscriptstyle cramped"},[s("span",{class:"mord mathit"},"ϕ")])])]),s("span",{style:{top:"-0.3448em","margin-right":"0.1em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptscriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord scriptscriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mord mathit"},"L")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"["),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15em","margin-right":"0.05em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"θ")])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mpunct"},","),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mclose"},")"),s("span",{class:"mbin"},"−"),s("span",{class:"mord mathit",style:{"margin-right":"0.05278em"}},"β"),s("span",{class:"mop"},[e("lo"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"mopen"},"("),s("span",{class:"mord reset-textstyle displaystyle textstyle uncramped"},[s("span",{class:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist"},[s("span",{style:{top:"0.686em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle cramped"},[s("span",{class:"mord textstyle cramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.289em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"F"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"T")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord mathrm"},"∣"),s("span",{class:"mord mathit"},"x"),s("span",{class:"mclose"},")")])])]),s("span",{style:{top:"-0.2300000000000001em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle uncramped frac-line"})]),s("span",{style:{top:"-0.8092159999999999em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle textstyle uncramped"},[s("span",{class:"mord textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"0.2831079999999999em","margin-left":"-0.03588em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit"},"ϕ")])])]),s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mord mathit"},"L")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"y"),s("span",{class:"mord mathrm"},"∣"),s("span",{class:"mord mathit"},"x"),s("span",{class:"mclose"},")")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"})]),s("span",{class:"mclose"},")"),s("span",{class:"mclose"},"]"),s("span",{class:"mbin"},"+"),s("span",{class:"mord mathit",style:{"margin-right":"0.05556em"}},"γ"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"E"),s("span",{class:"vlist"},[s("span",{style:{top:"0.14999999999999997em","margin-right":"0.05em","margin-left":"-0.05764em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit"},"x"),s("span",{class:"mrel"},"∼"),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"D"),s("span",{class:"vlist"},[s("span",{style:{top:"0.15000000000000002em","margin-right":"0.07142857142857144em","margin-left":"-0.02778em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-scriptstyle scriptscriptstyle cramped"},[s("span",{class:"mord scriptscriptstyle cramped"},[s("span",{class:"mord mathit"},"p"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord mathit"},"e"),s("span",{class:"mord mathit"},"t"),s("span",{class:"mord mathit",style:{"margin-right":"0.02778em"}},"r"),s("span",{class:"mord mathit"},"a"),s("span",{class:"mord mathit"},"i"),s("span",{class:"mord mathit"},"n")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"["),s("span",{class:"mop"},[e("lo"),s("span",{style:{"margin-right":"0.01389em"}},"g")]),s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"0.24700000000000003em","margin-left":"-0.03588em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit"},"ϕ")])])]),s("span",{style:{top:"-0.41300000000000003em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mord mathit"},"L")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])]),s("span",{class:"mopen"},"("),s("span",{class:"mord mathit"},"x"),s("span",{class:"mclose"},")"),s("span",{class:"mclose"},"]")])])])])]),s("p",null,[e("其中 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msubsup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"ϕ")]),s("mrow",null,[s("mi",null,"R"),s("mi",null,"L")])])]),s("annotation",{encoding:"application/x-tex"},"\\pi^{RL}_{\\phi}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.8413309999999999em"}}),s("span",{class:"strut bottom",style:{height:"1.2605469999999999em","vertical-align":"-0.4192159999999999em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"0.2831079999999999em","margin-left":"-0.03588em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle cramped"},[s("span",{class:"mord scriptstyle cramped"},[s("span",{class:"mord mathit"},"ϕ")])])]),s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.00773em"}},"R"),s("span",{class:"mord mathit"},"L")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" 表示待优化的"),s("strong",null,"政策"),e(" （模型），"),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mi",null,"π"),s("mrow",null,[s("mi",null,"S"),s("mi",null,"F"),s("mi",null,"T")])])]),s("annotation",{encoding:"application/x-tex"},"\\pi^{SFT}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.8413309999999999em"}}),s("span",{class:"strut bottom",style:{height:"0.8413309999999999em","vertical-align":"0em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord"},[s("span",{class:"mord mathit",style:{"margin-right":"0.03588em"}},"π"),s("span",{class:"vlist"},[s("span",{style:{top:"-0.363em","margin-right":"0.05em"}},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),s("span",{class:"reset-textstyle scriptstyle uncramped"},[s("span",{class:"mord scriptstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05764em"}},"S"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"F"),s("span",{class:"mord mathit",style:{"margin-right":"0.13889em"}},"T")])])]),s("span",{class:"baseline-fix"},[s("span",{class:"fontsize-ensurer reset-size5 size5"},[s("span",{style:{"font-size":"0em"}},"​")]),e("​")])])])])])]),e(" 表示 Step1 产生的模型")]),s("p",null,"3a. 请问第一项采样的数据集是动态的还是静态的？为什么？"),s("p",null,[e("3b. 含"),s("strong",null,"超参数"),e(),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"β")]),s("annotation",{encoding:"application/x-tex"},"\\beta")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.69444em"}}),s("span",{class:"strut bottom",style:{height:"0.8888799999999999em","vertical-align":"-0.19444em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05278em"}},"β")])])]),e(" 的项本质上是一个 "),s("strong",null,"KL 散度"),e("，它的作用是什么？如何证明？")]),s("p",null,[e("3c. 含超参数 "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",null,[s("semantics",null,[s("mrow",null,[s("mi",null,"γ")]),s("annotation",{encoding:"application/x-tex"},"\\gamma")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"strut",style:{height:"0.43056em"}}),s("span",{class:"strut bottom",style:{height:"0.625em","vertical-align":"-0.19444em"}}),s("span",{class:"base textstyle uncramped"},[s("span",{class:"mord mathit",style:{"margin-right":"0.05556em"}},"γ")])])]),e(" 的项即为原 GPT-3 的损失函数，为什么要在目标函数中添加这一项？")])])],-1),c=a("",5),u=[i,m,p,o,c];function d(g,h,y,z,f,x){return n(),l("div",null,u)}const T=t(r,[["render",d]]);export{_ as __pageData,T as default};
